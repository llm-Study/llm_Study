(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d21e454"],{d59f:function(e,t,n){"use strict";n.r(t);var o=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"user"},[n("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.Lodaing,expression:"Lodaing"}],ref:"userfrom",attrs:{"element-loading-text":"发布中,请稍等","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.6)",model:e.userfrom}},[n("el-form-item",{attrs:{prop:"article_name",rules:[{required:!0,message:"请输入标题"}]}},[n("label",{attrs:{for:""}},[e._v("标题")]),n("el-input",{model:{value:e.userfrom.article_name,callback:function(t){e.$set(e.userfrom,"article_name",t)},expression:"userfrom.article_name"}})],1),n("el-form-item",{attrs:{prop:"article_content",rules:[{required:!0,message:"请输入你要发布的内容"}]}},[n("label",[e._v("正文")]),n("quill-editor",{attrs:{options:e.editorOption},on:{change:function(t){e.onEditorChange(t)}},model:{value:e.userfrom.article_content,callback:function(t){e.$set(e.userfrom,"article_content",t)},expression:"userfrom.article_content"}})],1),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.Submission("userfrom")}}},[e._v("发布帖子")])],1)],1),n("input",{directives:[{name:"model",rawName:"v-model",value:e.num,expression:"num"}],attrs:{type:"text"},domProps:{value:e.num},on:{input:function(t){t.target.composing||(e.num=t.target.value)}}}),n("button",{on:{click:function(t){e.add()}}},[e._v("add")]),n("button",{on:{click:function(t){e.addasync()}}},[e._v("add async")])],1)},i=[],s=(n("175c"),n("bc97"),n("a5be"),n("b881")),r=n("827b"),a={copmonents:{quillEditor:s["quillEditor"]},data:function(){return{num:"",status:"",Lodaing:!1,userfrom:{article_name:"",article_content:"",u_id:""},editorOption:{modules:{toolbar:[["bold","italic","underline","link","strike"],[{script:"sub"},{script:"super"}],["blockquote","code-block"]]}}}},mounted:function(){console.log(this.$router),this.userfrom.u_id=this.$store.state.user.u_id,this.status=this.$store.state.user.status},methods:{add:function(){for(var e=0;e<1e6;e++)this.num=e},addasync:function(){function e(){this.num=this.num++,this.num<1e6&&setTimeout(e,0)}this.num=0,e()},onEditorChange:function(e){var t=e.editor,n=e.html,o=e.text;console.log({editor:t,html:n,text:o}),this.content=n},Submission:function(e){var t=this;this.$refs[e].validate(function(n){n&&(1==t.status?r["a"].addarticle(t.userfrom).then(function(n){t.Lodaing=!0,setTimeout(function(){t.Lodaing=!1,t.$message({type:"success",message:"发布成功"}),t.$refs[e].resetFields()},2e3)}):t.$message({type:"error",message:"不好意思,您被管理员禁止发布文章了"}))})}}},u=a,l=n("25c1"),c=Object(l["a"])(u,o,i,!1,null,null,null);c.options.__file="user.vue";t["default"]=c.exports}}]);
//# sourceMappingURL=chunk-2d21e454.2abe967d.js.map